<!-- Cards Container -->
<div class="flex flex-wrap gap-4 p-4">
  @for (note of notes; track note.id) {
    <main class="p-6 w-80 flex flex-col cursor-pointer bg-orange-300 rounded-3xl shadow-md ml-4 mb-4">
      <div class="p-4 flex items-center">
        <div class="w-full flex items-center">
          <!-- Title takes 7/10 of space -->
          <div class="flex-[7] overflow-hidden">
            <h2 class="text-lg font-semibold whitespace-nowrap overflow-hidden text-ellipsis">
              {{ note.title }} &nbsp;
            </h2>
          </div>
          <!-- Icon takes 3/10 of space -->
          <div class="flex-[3] flex justify-end ">
            <h2 class="text-lg font-semibold">
              <i class="bi bi-pin-angle p-2 rounded-full bg-white transition duration-300 hover:bg-white hover:text-orange-500 cursor-pointer"
              ></i>
            </h2>
          </div>
        </div>
      </div>

      <!-- Icons (Hidden Initially, Shown on Hover) -->
      <div class="group flex items-center justify-between w-full p-3 relative">
        <!-- Hidden Icons (Appear on Hover) -->
        <div class="hidden group-hover:flex flex-1 justify-center gap-10 transition duration-300">
          <i class="bi bi-eye text-base p-2 rounded-full bg-white transition duration-300 hover:bg-white hover:text-orange-500 cursor-pointer"
             (click)="openPopup(note)">
          </i>
          <i class="bi bi-trash text-base p-2 rounded-full bg-white transition duration-300 hover:bg-white hover:text-orange-500"
          (click)="deleteNote(note.id)">
          
          </i>
        </div>
      
        <!-- Always Visible Sticky Pencil Icon -->
        <div class="ml-auto mr-2">
          <i class="bi bi-pencil p-2 rounded-full bg-white transition duration-300 hover:bg-white hover:text-orange-500 cursor-pointer"
          (click)="editNote(note)"></i>
        </div>
      </div>
      
    </main>
  }
</div>

<!-- Popup for Viewing Note Details -->
@if (selectedNote) {
  <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-10">
    <div class="bg-white p-6 rounded-lg shadow-lg w-120">
      <h2 class="text-lg font-semibold mb-4">{{ selectedNote.title }}</h2>
      <p class="text-gray-700">{{ selectedNote.content }}</p>
      
      <!-- Button Wrapper to Align Right -->
      <div class="mt-4 flex justify-end">
        <button class="bg-orange-400 text-white px-4 py-2 rounded-lg" (click)="closePopup()">Close</button>
      </div>
    </div>
  </div>
  
}

